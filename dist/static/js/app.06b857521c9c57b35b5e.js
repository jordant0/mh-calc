webpackJsonp([1],{"3hp+":function(i,t){},"7/87":function(i,t){},8173:function(i,t){},"8DMl":function(i,t){},NHnr:function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("7+uW"),n={render:function(){var i=this.$createElement,t=this._self._c||i;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=e("VU/8")({name:"App"},n,!1,function(i){e("7/87")},null,null).exports,s=e("/ocq"),r={name:"WeaponInput",props:{weapon:Object}},o={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("form",{staticClass:"weapon-input"},[e("div",{staticClass:"input-item"},[e("span",{staticClass:"input-label"},[i._v("Raw")]),i._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:i.weapon.raw,expression:"weapon.raw",modifiers:{number:!0}}],staticClass:"input-field",attrs:{type:"number"},domProps:{value:i.weapon.raw},on:{input:function(t){t.target.composing||i.$set(i.weapon,"raw",i._n(t.target.value))},blur:function(t){i.$forceUpdate()}}})]),i._v(" "),e("div",{staticClass:"input-item"},[e("span",{staticClass:"input-label"},[i._v("Affinity")]),i._v(" "),e("div",[e("input",{directives:[{name:"model",rawName:"v-model.number",value:i.weapon.affinity,expression:"weapon.affinity",modifiers:{number:!0}}],staticClass:"affinity-input input-field",attrs:{type:"number"},domProps:{value:i.weapon.affinity},on:{input:function(t){t.target.composing||i.$set(i.weapon,"affinity",i._n(t.target.value))},blur:function(t){i.$forceUpdate()}}}),i._v("%\n    ")])]),i._v(" "),e("div",{staticClass:"input-item"},[e("span",{staticClass:"input-label"},[i._v("Sharpness")]),i._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:i.weapon.sharpness,expression:"weapon.sharpness"}],staticClass:"input-field",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(i){return i.selected}).map(function(i){return"_value"in i?i._value:i.value});i.$set(i.weapon,"sharpness",t.target.multiple?e:e[0])}}},[e("option",[i._v("White")]),i._v(" "),e("option",[i._v("Blue")]),i._v(" "),e("option",[i._v("Green")]),i._v(" "),e("option",[i._v("Yellow")]),i._v(" "),e("option",[i._v("Orange")]),i._v(" "),e("option",[i._v("Red")])])])])},staticRenderFns:[]};var f=e("VU/8")(r,o,!1,function(i){e("3hp+")},null,null).exports,d={0:{name:"Critical Boost",defaultActiviation:50,levels:[1,2,3]},1:{name:"Weakness Exploit",defaultActiviation:100,levels:[{affinityModifier:.15},{affinityModifier:.3},{affinityModifier:.5}]},2:{name:"Maximum Might",defaultActiviation:100,levels:[{affinityModifier:.1},{affinityModifier:.2},{affinityModifier:.3}]},3:{name:"Attack Boost",defaultActiviation:100,fixedActivation:!0,levels:[{rawModifier:3},{rawModifier:6},{rawModifier:9},{rawModifier:12,affinityModifier:.05},{rawModifier:15,affinityModifier:.05},{rawModifier:18,affinityModifier:.05},{rawModifier:21,affinityModifier:.05}]},4:{name:"Critical Eye",defaultActiviation:100,fixedActivation:!0,levels:[{affinityModifier:.03},{affinityModifier:.06},{affinityModifier:.1},{affinityModifier:.15},{affinityModifier:.2},{affinityModifier:.25},{affinityModifier:.3}]},5:{name:"Agitator",defaultActiviation:50,levels:[{rawModifier:4,affinityModifier:.03},{rawModifier:8,affinityModifier:.06},{rawModifier:12,affinityModifier:.09},{rawModifier:16,affinityModifier:.12},{rawModifier:20,affinityModifier:.15}]},6:{name:"Peak Performance",defaultActiviation:50,levels:[{rawModifier:5},{rawModifier:10},{rawModifier:15}]},7:{name:"Critical Draw",defaultActiviation:100,levels:[{affinityModifier:.3},{affinityModifier:.6},{affinityModifier:1}]},8:{name:"Airborne",defaultActiviation:10,levels:[{affinityModifier:.1}]},9:{name:"Latent Power",defaultActiviation:30,levels:[{affinityModifier:.1},{affinityModifier:.2},{affinityModifier:.3},{affinityModifier:.4},{affinityModifier:.5}]},10:{name:"Resentment",defaultActiviation:10,levels:[{rawModifier:5},{rawModifier:10},{rawModifier:15},{rawModifier:20},{rawModifier:25}]}},c={name:"Calculator",props:{weapon:Object,skills:Array,settings:{type:Object,default:{}}},computed:{sharpnessMultiplier:function(){switch(this.weapon.sharpness){case"White":return 1.32;case"Blue":return 1.2;case"Green":return 1.05;case"Yellow":return 1;case"Red":return.75;case"Orange":return.5;default:return 1}},affinity:function(){return this.weapon.affinity/100},affinityMultiplier:function(){var i=this.findSkillIndex(0);return i>0?.25+.05*this.skills[i].level:.25},fixedSkills:function(){return this.skills.filter(function(i){return 0!==i.id&&i.activation>=100})},variableSkills:function(){return this.skills.filter(function(i){return 0!==i.id&&i.activation<100&&i.activation>0})},fixedRawAndAffinity:function(){var i=this.weapon.raw,t=this.affinity;this.settings.debug&&this.settings.verbose&&console.log("[ Calculating fixed raw and affinity ]");for(var e=0;e<this.fixedSkills.length;e++){var a=this.fixedSkills[e],n=this.getRawAndAffinityForSkill(a);i+=n.raw,t+=n.affinity,t=Math.min(1,t),t=Math.max(-1,t)}return{raw:i,affinity:t}},finalAverageRaw:function(){var i=this.variableSkills.length;if(i<1)return this.averageRaw(this.fixedRawAndAffinity.raw,this.fixedRawAndAffinity.affinity);console.log("[ Calculating variable raw and affinity | Fixed Raw: "+this.fixedRawAndAffinity.raw+" | Fixed Affinity: "+this.fixedRawAndAffinity.affinity+" ]");for(var t=Math.pow(2,i),e=0,a=0;a<t;a++){var n=this.convertToDecimal(a,i),l=this.getRawAndAffinityForConfig(n);this.settings.debug&&console.log("Calculating raw for configuration "+n+". Chance: "+100*l.chance+"%"),l.chance>0&&(e+=this.averageRaw(l.raw,l.affinity)*l.chance)}return e},displayFixedAffinity:function(){return this.roundToDecimal(100*this.fixedRawAndAffinity.affinity)},roundedFinalRaw:function(){return this.roundToDecimal(this.finalAverageRaw)}},methods:{findSkillIndex:function(i){return this.skills.findIndex(function(t){return t.id===i})},convertToDecimal:function(i,t){var e=(i>>>0).toString(2);return""+"0".repeat(t-e.length)+e},averageRaw:function(i,t){var e=this.affinityMultiplier;t<0&&(e=.25);var a=i*this.sharpnessMultiplier*(1+t*e);return this.settings.debug&&console.log("> "+i+" * "+this.sharpnessMultiplier+" * (1 + "+t+" * "+e+") = "+a),a},getRawAndAffinityForConfig:function(i){for(var t=0,e=this.fixedRawAndAffinity.raw,a=this.fixedRawAndAffinity.affinity,n=1,l=0;l<this.variableSkills.length;l++){var s=this.variableSkills[l],r=s.activation/100;if("1"===i[t]){var o=this.getRawAndAffinityForSkill(s);e+=o.raw,a+=o.affinity,a=Math.min(1,a),a=Math.max(-1,a),n*=r}else n*=1-r;t++}return{raw:e,affinity:a,chance:n}},getRawAndAffinityForSkill:function(i){var t=d[i.id],e=t.levels[i.level-1].rawModifier||0,a=t.levels[i.level-1].affinityModifier||0;return this.settings.debug&&this.settings.verbose&&console.log('Checking data for skill "'+t.name+'" lv '+i.level+" | Raw: "+e+" | Affinity: "+a),{raw:e,affinity:a}},roundToDecimal:function(i){var t=Math.pow(10,this.settings.precision||2);return Math.round(i*t)/t}}},u={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"damage-display bordered-box"},[e("div",{staticClass:"damage-item damage-detail"},[e("span",{staticClass:"damage-label"},[i._v("Fixed raw:")]),i._v(" "),e("span",{staticClass:"damage-number"},[i._v(i._s(this.fixedRawAndAffinity.raw))])]),i._v(" "),e("div",{staticClass:"damage-item damage-detail"},[e("span",{staticClass:"damage-label"},[i._v("Fixed affinity:")]),i._v(" "),e("span",{staticClass:"damage-number"},[i._v(i._s(i.displayFixedAffinity)+"%")])]),i._v(" "),e("div",{staticClass:"damage-item damage-detail"},[e("span",{staticClass:"damage-label"},[i._v("Affinity multiplier:")]),i._v(" "),e("span",{staticClass:"damage-number"},[i._v(i._s(i.affinityMultiplier)+"%")])]),i._v(" "),e("div",{staticClass:"damage-item damage-final"},[e("span",{staticClass:"damage-label"},[i._v("Average raw:")]),i._v(" "),e("span",{staticClass:"damage-number"},[i._v(i._s(this.roundedFinalRaw))])])])},staticRenderFns:[]};var v=e("VU/8")(c,u,!1,function(i){e("8DMl")},null,null).exports,p=e("W3Iv"),m=e.n(p),h=e("T1ft"),k={name:"SkillSelector",components:{VueSelect:e.n(h).a},data:function(){return{skillList:m()(d).map(function(i){return{label:i[1].name,value:parseInt(i[0])}}).sort(function(i,t){var e=i.label.toUpperCase(),a=t.label.toUpperCase();return e<a?-1:e>a?1:0})}},methods:{skillSelected:function(i){this.$emit("skill-added",i.value)}}},w={render:function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"skill-selector"},[t("div",{staticClass:"skills-input input-item"},[t("span",{staticClass:"input-label"},[this._v("\n      Select skills\n    ")]),this._v(" "),t("vue-select",{attrs:{placeholder:"Type to search...","clear-search-on-select":!0,options:this.skillList,"on-change":this.skillSelected}})],1)])},staticRenderFns:[]};var y=e("VU/8")(k,w,!1,function(i){e("W2QT")},null,null).exports,_=e("Gu7T"),g=e.n(_),M={name:"SkillDisplayItem",props:{skill:Object},computed:{skillData:function(){return d[this.skill.id]},skillName:function(){return this.skillData.name},skillLevels:function(){return[].concat(g()(Array(this.skillData.levels.length).keys())).map(function(i){return i+1})},enableActivationEdit:function(){return!this.skillData.fixedActivation}},methods:{updateSkillLevel:function(i){this.$emit("skill-level-update",this.skill.id,parseInt(i.target.value))},updateSkillActivation:function(i){this.$emit("skill-level-activation",this.skill.id,parseInt(i.target.value))},removeSkill:function(){this.$emit("skill-remove",this.skill.id)}}},A={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"skill-display-item bordered-box"},[e("div",{staticClass:"skill-header"},[e("div",{staticClass:"skill-name"},[i._v("\n      "+i._s(i.skillName)+"\n    ")]),i._v(" "),e("a",{staticClass:"remove-link",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),i.removeSkill(t)}}},[i._v("x")])]),i._v(" "),e("form",{staticClass:"skill-edit"},[e("div",{staticClass:"input-item"},[e("span",{staticClass:"input-label"},[i._v("Level:")]),i._v(" "),e("select",{staticClass:"input-field",attrs:{type:"number"},domProps:{value:i.skill.level},on:{change:i.updateSkillLevel}},i._l(i.skillLevels,function(t){return e("option",[i._v("\n          "+i._s(t)+"\n        ")])}))]),i._v(" "),i.enableActivationEdit?e("div",{staticClass:"input-item"},[e("span",{staticClass:"input-label"},[i._v("Activation:")]),i._v(" "),e("div",[e("input",{staticClass:"activation-input input-field",attrs:{type:"number"},domProps:{value:i.skill.activation},on:{change:i.updateSkillActivation}}),i._v("%\n      ")])]):i._e()])])},staticRenderFns:[]};var C={name:"SkillDisplay",components:{SkillDisplayItem:e("VU/8")(M,A,!1,function(i){e("uMxJ")},null,null).exports},props:{skills:Array},methods:{updateSkillLevel:function(i,t){this.$emit("skill-level-update",i,t)},updateSkillActivation:function(i,t){this.$emit("skill-level-activation",i,t)},removeSkill:function(i){this.$emit("skill-remove",i)}}},b={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"skills-display"},i._l(i.skills,function(t){return e("skill-display-item",{key:t.id,attrs:{skill:t},on:{"skill-level-update":i.updateSkillLevel,"skill-level-activation":i.updateSkillActivation,"skill-remove":i.removeSkill}})}))},staticRenderFns:[]};var x={name:"SkillControl",components:{SkillSelector:y,SkillDisplay:e("VU/8")(C,b,!1,function(i){e("eMsO")},null,null).exports},props:{skills:Array},methods:{findSkillIndex:function(i){return this.skills.findIndex(function(t){return t.id===i})},addSkill:function(i){if(this.findSkillIndex(i)<0){var t=this.skills;t.push({id:i,level:1,activation:d[i].defaultActiviation}),this.$emit("update:skills",t)}},updateSkillLevel:function(i,t){var e=this.findSkillIndex(i);if(e>=0&&this.skills[e].level!==t){var a=this.skills;a[e].level=t,this.$emit("update:skills",a)}},updateSkillActivation:function(i,t){var e=this.findSkillIndex(i);if(t>100&&(t=100),t<0&&(t=0),e>=0&&this.skills[e].activation!==t){var a=this.skills;a[e].activation=t,this.$emit("update:skills",a)}},removeSkill:function(i){var t=this.findSkillIndex(i);if(t>=0){var e=this.skills;e.splice(t,1),this.$emit("update:skills",e)}}}},S={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"skill-controls bordered-box"},[e("skill-selector",{on:{"skill-added":i.addSkill}}),i._v(" "),e("skill-display",{attrs:{skills:i.skills},on:{"update:skills":function(t){i.skills=t},"skill-level-update":i.updateSkillLevel,"skill-level-activation":i.updateSkillActivation,"skill-remove":i.removeSkill}})],1)},staticRenderFns:[]},R={name:"Main",components:{WeaponInput:f,Calculator:v,SkillControl:e("VU/8")(x,S,!1,null,null,null).exports},watch:{"weapon.affinity":function(i){this.weapon.affinity>100&&(this.weapon.affinity=100),this.weapon.affinity<0&&(this.weapon.affinity=0)}},data:function(){return{weapon:{raw:200,affinity:0,sharpness:"Green"},skills:[],settings:{debug:!1,verbose:!1,precision:2,version:"0.0.4"}}}},$={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"mh-calc"},[e("h1",[i._v("\n    MHW Damage Calculator\n    "),e("div",{staticClass:"version-number"},[i._v("\n      v"+i._s(i.settings.version)+"\n    ")])]),i._v(" "),e("div",{staticClass:"main-content"},[e("div",{staticClass:"weapon-col bordered-box"},[e("weapon-input",{attrs:{weapon:i.weapon}})],1),i._v(" "),e("calculator",{attrs:{weapon:i.weapon,skills:i.skills,settings:i.settings}})],1),i._v(" "),e("div",{staticClass:"skills-col"},[e("skill-control",{attrs:{skills:i.skills},on:{"update:skills":function(t){i.skills=t}}})],1)])},staticRenderFns:[]};var F=e("VU/8")(R,$,!1,function(i){e("8173")},null,null).exports;a.a.use(s.a);var D=new s.a({routes:[{path:"/",name:"Main",component:F}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:D,components:{App:l},template:"<App/>"})},W2QT:function(i,t){},eMsO:function(i,t){},uMxJ:function(i,t){}},["NHnr"]);
//# sourceMappingURL=app.06b857521c9c57b35b5e.js.map