webpackJsonp([1],{NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App"},n,!1,function(e){i("P0ls")},null,null).exports,s=i("/ocq"),r={name:"WeaponInput",props:{weapon:Object}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"weapon-input"},[i("div",[i("label",[e._v("Raw:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.weapon.raw,expression:"weapon.raw"}],attrs:{type:"text"},domProps:{value:e.weapon.raw},on:{input:function(t){t.target.composing||e.$set(e.weapon,"raw",t.target.value)}}})]),e._v(" "),i("div",[i("label",[e._v("Affinity:")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.weapon.affinity,expression:"weapon.affinity"}],attrs:{type:"text"},domProps:{value:e.weapon.affinity},on:{input:function(t){t.target.composing||e.$set(e.weapon,"affinity",t.target.value)}}}),e._v("%\n  ")]),e._v(" "),i("div",[i("label",[e._v("Sharpness:")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.weapon.sharpness,expression:"weapon.sharpness"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.weapon,"sharpness",t.target.multiple?i:i[0])}}},[i("option",[e._v("White")]),e._v(" "),i("option",[e._v("Blue")]),e._v(" "),i("option",[e._v("Green")]),e._v(" "),i("option",[e._v("Yellow")]),e._v(" "),i("option",[e._v("Orange")]),e._v(" "),i("option",[e._v("Red")])])])])},staticRenderFns:[]},u=i("VU/8")(r,o,!1,null,null,null).exports,c={1:{name:"Weakness Exploit",defaultActiviation:100,levels:[{rawModifier:0,affinityModifier:.15},{rawModifier:0,affinityModifier:.3},{rawModifier:0,affinityModifier:.5}]},2:{name:"Maximum Might",defaultActiviation:100,levels:[{rawModifier:0,affinityModifier:.1},{rawModifier:0,affinityModifier:.2},{rawModifier:0,affinityModifier:.3}]}},p={name:"Calculator",props:{weapon:Object,skills:Array,affinityMultiplier:Number,settings:{type:Object,default:{}}},computed:{sharpnessMultiplier:function(){switch(this.weapon.sharpness){case"White":return 1.32;case"Blue":return 1.2;case"Green":return 1.05;case"Yellow":return 1;case"Red":return.75;case"Orange":return.5;default:return 1}},affinity:function(){return this.weapon.affinity/100},finalAverageRaw:function(){if(this.skills.length<1)return this.averageRaw(this.weapon.raw,this.affinity);for(var e=Math.pow(2,this.skills.length),t=0,i=0;i<e;i++){var l=this.convertToDecimal(i,this.skills.length),n=this.getRawAndAffinityForConfig(l);this.settings.debug&&console.log("Calculating raw for configuration "+l+" with raw "+n.raw+" and affitity "+n.affinity+". Chance: "+100*n.chance+"%"),t+=this.averageRaw(n.raw,n.affinity)*n.chance}return t}},methods:{convertToDecimal:function(e,t){var i=(e>>>0).toString(2);return""+"0".repeat(t-i.length)+i},averageRaw:function(e,t){return e*this.sharpnessMultiplier*(1+t*this.affinityMultiplier)},getRawAndAffinityForConfig:function(e){for(var t=0,i=this.affinity,l=this.weapon.raw,n=1,a=0;a<this.skills.length;a++){var s=this.skills[a],r=s.activation/100;if("1"===e[t]){var o=c[s.id];l+=o.levels[s.level-1].rawModifier,i+=o.levels[s.level-1].affinityModifier,i=Math.min(1,i),n*=r}else n*=1-r;t++}return{raw:l,affinity:i,chance:n}}}},v={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"damage-display"},[this._v("\n  Average raw: "+this._s(this.finalAverageRaw)+"\n")])},staticRenderFns:[]},f=i("VU/8")(p,v,!1,null,null,null).exports,d=i("W3Iv"),h=i.n(d),k=i("T1ft"),m={name:"SkillSelector",components:{VueSelect:i.n(k).a},data:function(){return{skillList:h()(c).map(function(e){return{label:e[1].name,value:parseInt(e[0])}}).sort(function(e,t){var i=e.label.toUpperCase(),l=t.label.toUpperCase();return i<l?-1:i>l?1:0}),selectedSkill:""}},methods:{skillSelected:function(e){this.$emit("skill-added",e.value);this.skillList.findIndex(function(t){return t.value===e.value})}}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"skill-selector"},[t("div",[this._v("\n    Select skills\n  ")]),this._v(" "),t("vue-select",{attrs:{placeholder:"Select skills...","clear-search-on-select":!0,options:this.skillList,"on-change":this.skillSelected}})],1)},staticRenderFns:[]},_=i("VU/8")(m,w,!1,null,null,null).exports,y=i("Gu7T"),g=i.n(y),S={name:"SkillDisplayItem",props:{skill:Object},computed:{skillData:function(){return c[this.skill.id]},skillName:function(){return this.skillData.name},skillLevels:function(){return[].concat(g()(Array(this.skillData.levels.length).keys())).map(function(e){return e+1})}},methods:{updateSkillLevel:function(e){this.$emit("skill-level-update",this.skill.id,parseInt(e.target.value))},updateSkillActivation:function(e){this.$emit("skill-level-activation",this.skill.id,parseInt(e.target.value))}}},M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"skill-display-item"},[e._v("\n  "+e._s(e.skillName)+"\n  "),i("form",{staticClass:"skill-edit"},[i("div",[e._v("\n      Level:\n      "),i("select",{attrs:{type:"number"},domProps:{value:e.skill.level},on:{change:e.updateSkillLevel}},e._l(e.skillLevels,function(t){return i("option",[e._v("\n          "+e._s(t)+"\n        ")])}))]),e._v(" "),i("div",[e._v("\n      Activation:\n      "),i("input",{attrs:{type:"number"},domProps:{value:e.skill.activation},on:{change:e.updateSkillActivation}})])])])},staticRenderFns:[]},A={name:"SkillDisplay",components:{SkillDisplayItem:i("VU/8")(S,M,!1,null,null,null).exports},props:{skills:Array},methods:{updateSkillLevel:function(e,t){this.$emit("skill-level-update",e,t)},updateSkillActivation:function(e,t){this.$emit("skill-level-activation",e,t)}}},x={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"skills-display"},e._l(e.skills,function(t){return i("skill-display-item",{key:t.id,attrs:{skill:t},on:{"skill-level-update":e.updateSkillLevel,"skill-level-activation":e.updateSkillActivation}})}))},staticRenderFns:[]},C={name:"SkillControl",components:{SkillSelector:_,SkillDisplay:i("VU/8")(A,x,!1,null,null,null).exports},props:{skills:Array},methods:{findSkillIndex:function(e){return this.skills.findIndex(function(t){return t.id===e})},addSkill:function(e){if(this.findSkillIndex(e)<0){var t=this.skills;t.push({id:e,level:1,activation:c[e].defaultActiviation}),this.$emit("update:skills",t)}},updateSkillLevel:function(e,t){var i=this.findSkillIndex(e);if(this.skills[i].level!==t){var l=this.skills;l[i].level=t,this.$emit("update:skills",l)}},updateSkillActivation:function(e,t){var i=this.findSkillIndex(e);if(this.skills[i].activation!==t){var l=this.skills;l[i].activation=t,this.$emit("update:skills",l)}}}},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"skill-controls"},[t("skill-selector",{on:{"skill-added":this.addSkill}}),this._v(" "),t("skill-display",{attrs:{skills:this.skills},on:{"skill-level-update":this.updateSkillLevel,"skill-level-activation":this.updateSkillActivation}})],1)},staticRenderFns:[]},R={name:"Main",components:{WeaponInput:u,Calculator:f,SkillControl:i("VU/8")(C,$,!1,null,null,null).exports},data:function(){return{weapon:{raw:100,affinity:0,sharpness:"Green"},skills:[],affinityMultiplier:.25,settings:{debug:!1}}}},b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mh-calc"},[i("h1",[e._v("MHW Damage Calculator")]),e._v(" "),i("weapon-input",{attrs:{weapon:e.weapon}}),e._v(" "),i("skill-control",{attrs:{skills:e.skills},on:{"update:skills":function(t){e.skills=t}}}),e._v(" "),i("calculator",{attrs:{weapon:e.weapon,skills:e.skills,affinityMultiplier:e.affinityMultiplier,settings:e.settings}})],1)},staticRenderFns:[]},I=i("VU/8")(R,b,!1,null,null,null).exports;l.a.use(s.a);var L=new s.a({routes:[{path:"/",name:"Main",component:I}]});l.a.config.productionTip=!1,new l.a({el:"#app",router:L,components:{App:a},template:"<App/>"})},P0ls:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d10e8cc4f7b3be88197d.js.map